<div class="container mt-4">
  <h2 class="text-center">Calendario de Horarios</h2>
  <full-calendar [options]="calendarOptions"></full-calendar>

  <div *ngIf="modalVisible" class="modal fade show d-block" tabindex="-1" style="background-color: rgba(0, 0, 0, 0.5);">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title">Crear Horario</h5>
          <button type="button" class="btn-close" (click)="cerrarModal()"></button>
        </div>
        <div class="modal-body">
          <form (ngSubmit)="guardarHorario()">

            <!-- Campo de Fecha -->
            <div class="mb-3">
              <label for="fecha" class="form-label">Fecha</label>
              <input type="date" [(ngModel)]="nuevoHorario.fecha" name="fecha" id="fecha" class="form-control" required />
            </div>

            <!-- Selector de Día -->
            <div class="mb-3">
              <label for="dia" class="form-label">Día</label>
              <select [(ngModel)]="nuevoHorario.dia" name="dia" id="dia" class="form-select" required>
                <option value="" disabled selected>Seleccione un día</option>
                <option *ngFor="let dia of dias" [value]="dia">{{ dia }}</option>
              </select>
            </div>

            <!-- Selector de Hora de Inicio -->
            <div class="mb-3">
              <label for="horaInicio" class="form-label">Hora de Inicio</label>
              <input type="time" [(ngModel)]="nuevoHorario.horaInicio" name="horaInicio" id="horaInicio" class="form-control" required />
            </div>

            <!-- Selector de Hora de Fin -->
            <div class="mb-3">
              <label for="horaFin" class="form-label">Hora de Fin</label>
              <input type="time" [(ngModel)]="nuevoHorario.horaFin" name="horaFin" id="horaFin" class="form-control" required />
            </div>

            <!-- Selector de Clase -->
            <div class="mb-3">
              <label for="clase" class="form-label">Clase</label>
              <select [(ngModel)]="nuevoHorario.clase.idClase" name="clase" id="clase" class="form-select" required>
                <option value="" disabled selected>Seleccione una clase</option>
                <option *ngFor="let clase of clases" [value]="clase.idClase">
                  {{ clase.nombreMostrar }}
                </option>
              </select>
            </div>

            <!-- Selector de Laboratorio -->
            <div class="mb-3">
              <label for="laboratorio" class="form-label">Laboratorio</label>
              <select [(ngModel)]="nuevoHorario.laboratorio.idLaboratorio" name="laboratorio" id="laboratorio" class="form-select" required>
                <option value="" disabled selected>Seleccione un laboratorio</option>
                <option *ngFor="let laboratorio of laboratorios" [value]="laboratorio.idLaboratorio">{{ laboratorio.nombreLaboratorio }}</option>
              </select>
            </div>

            <!-- Botones -->
            <div class="modal-footer">
              <button type="button" class="btn btn-secondary" (click)="cerrarModal()">Cancelar</button>
              <button type="submit" class="btn btn-primary">Guardar</button>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>
</div>
