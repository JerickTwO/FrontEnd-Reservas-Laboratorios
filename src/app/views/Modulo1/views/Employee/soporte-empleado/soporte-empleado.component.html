<section class="contenedor_charSupport">
  <!-- Filtros -->
  <div class="contenedor_filtros">
    <div>
      <!-- vacio -->
    </div>

    <div>
      <!-- vacio -->
    </div>

    <div>
      <button
        class="button efects_button btn_nuevo"
        (click)="createGroupSuportAndAdmin(usuario.id, usuario.display_name)"
      >
        Iniciar chat con administrador
      </button>
      <p-dialog
        header="Iniciar chat con administrador"
        [(visible)]="visible"
        [style]="{ width: '50vw' }"
      >
        <div>
          <input
            class="input"
            type="text"
            placeholder=" Ingresa el motivo de tu solicitud"
          />

          <textarea
            class="input textarea"
            name=""
            id=""
            cols="30"
            rows="10"
            placeholder="Detalla mas el asunto a tratar..."
          ></textarea>

          <button class="button efects_button" [style]="{ width: '5vw' }">
            Enviar
          </button>
        </div>
      </p-dialog>
    </div>

    <div>
      <input class="input" type="text" placeholder="Buscar chat..." />
    </div>
  </div>

  <hr class="divisor" />

  <!-- Chat -->
  <div class="contenedor_chat">
    <!-- contenedor de mensajes -->
    <div>
      <div class="card">
        <p-tabView>
          <p-tabPanel header="Chats">
            <div class="chats">
              <a href="" class="content">
                <div class="message">
                  <span class="title">Administrador#213</span>
                  <span class="text"
                    ><b>Mensaje:</b> Lorem ipsum dolor sit amet consectetur
                    adipisicing elit.</span
                  >
                </div>

                <div class="hour">
                  <span><i class="bx bx-check-double"></i></span>
                  <span class="time">Online</span>
                </div>
              </a>

              <a href="" class="content">
                <div class="message">
                  <span class="title">Administrador#123</span>
                  <span class="text"
                    ><b>Mensaje:</b> Lorem ipsum dolor sit amet consectetur
                    adipisicing elit.</span
                  >
                </div>

                <div class="hour">
                  <span><i class="bx bx-check-double"></i></span>
                  <span class="time">1min</span>
                </div>
              </a>

              <a href="" class="content">
                <div class="message">
                  <span class="title">Administrador#377</span>
                  <span class="text"
                    ><b>Mensaje:</b> Lorem ipsum dolor sit amet consectetur
                    adipisicing elit.</span
                  >
                </div>

                <div class="hour">
                  <span><i class="bx bx-check-double"></i></span>
                  <span class="time">3min</span>
                </div>
              </a>
            </div>
          </p-tabPanel>
        </p-tabView>
      </div>
    </div>

    <!-- Contenedor de chats -->
    <div>
      <section class="content_chat_component">
        <div class="chat">
          <div class="contact bar">
            <div class="name">
              <span class="nameEmployee">{{ nameCliente }}</span>
            </div>

            <div class="title_orden">
              <span>{{ nameOrder }}</span>
            </div>
          </div>

          <div class="messages" id="chat">
            <div
              class="message"
              [ngClass]="msg.sender"
              *ngFor="let msg of messages"
            >
              <span class="user-name">{{ msg.name }}</span>
              {{ msg.message_text }}
            </div>

            <!-- <div class="message stark">
              <div class="typing typing-1"></div>
              <div class="typing typing-2"></div>
              <div class="typing typing-3"></div>
            </div> -->
          </div>

          <!-- Después del cambio -->
          <div *ngIf="!currentGroup" class="warning-message">
            <div
              class="alert alert-warning d-flex align-items-center"
              role="alert"
            >
              <i
                class="bi bi-exclamation-triangle-fill"
                style="font-size: 2rem; margin-right: 20px"
              ></i>
              <div>
                <strong>¡Atención!</strong> Tienes que dar clic para iniciar
                chat con el administrador.
              </div>
            </div>
          </div>

          <div *ngIf="currentGroup">
            <div class="content_text">
              <input
                [(ngModel)]="newMessage"
                placeholder="Escribe un mensaje"
                type="text"
              />
              <button
                class="button2 efects_button btn_nuevo"
                [style.width]="'5vw'"
                (click)="sendMessage()"
              >
                <span class="pi pi-send"></span> Enviar
              </button>
            </div>
          </div>
        </div>
      </section>
    </div>
  </div>
</section>
